<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Koeun Choi" />

<meta name="date" content="2019-11-06" />

<title>HD 5514 Research Methods (Fall 2019)</title>

<script src="w11_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="w11_files/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="w11_files/bootstrap-3.3.6/js/bootstrap.min.js"></script>
<script src="w11_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<script src="w11_files/navigation-1.1/tabsets.js"></script>
<script src="w11_files/navigation-1.1/codefolding.js"></script>
<link href="w11_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
<script src="w11_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
<link href="w11_files/readthedown-0.1/readthedown.css" rel="stylesheet" />
<script src="w11_files/readthedown-0.1/readthedown.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


</head>

<body>


<div id="content" data-toggle="wy-nav-shift">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<nav id="nav-top" role="navigation" aria-label="top navigation">
    <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
</nav>

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="text-muted">Code</span> <span class="text-muted caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All</a></li>
</ul>
</div>

<div id="header">
<h1 class="title">HD 5514 Research Methods (Fall 2019)</h1>
<h1 class="subtitle">Analysis of Two-Way Tables (W11)</h1>
</div>


<div id="table-of-contents">
    <h2><a href="#content">HD 5514 Research Methods (Fall 2019)</a></h2>
    <div id="text-table-of-contents">
      <ul>
      <li><a href="#in-class-acitivity">In-Class Acitivity</a><ul>
      <li><a href="#load-data">Load Data</a></li>
      <li><a href="#print-data">Print Data</a></li>
      <li><a href="#check-data">Check Data</a></li>
      <li><a href="#form-a-contingency-table">Form a Contingency Table</a></li>
      <li><a href="#conduct-chi-squared-test">Conduct Chi-Squared Test</a></li>
      <li><a href="#get-expected-counts">Get Expected Counts</a></li>
      <li><a href="#conduct-fishers-exact-test">Conduct Fisher’s Exact Test</a></li>
      </ul></li>
      <li><a href="#assignment-7-week-11">Assignment 7 (Week 11)</a><ul>
      <li><a href="#read-data">Read Data</a></li>
      <li><a href="#check-data-1">Check Data</a></li>
      <li><a href="#form-a-contingency-table-1">Form a Contingency Table</a></li>
      <li><a href="#conduct-chi-squared-test-1">Conduct Chi-Squared Test</a></li>
      <li><a href="#combine-columns">Combine columns</a></li>
      </ul></li>
      </ul>
    </div>
</div>

<div id="main">
<div id="in-class-acitivity" class="section level1">
<h1>In-Class Acitivity</h1>
<div id="load-data" class="section level2">
<h2>Load Data</h2>
<p>We are going to use <code>mtcars</code> data included in R by default. We will load and print the mtcars data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># 1. Loading</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">data</span>(mtcars) </a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># 2. Print</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">head</span>(mtcars)</a></code></pre></div>
</div>
<div id="print-data" class="section level2">
<h2>Print Data</h2>
<p>We can view the content of the mtcars data set.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># 2. Print (the first 6 rows)</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">head</span>(mtcars)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># Print the last 6 rows</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">tail</span>(mtcars)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># Print the first 10 rows</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">head</span>(mtcars, <span class="dv">10</span>)</a></code></pre></div>
</div>
<div id="check-data" class="section level2">
<h2>Check Data</h2>
<p>Check the number of rows and columns. (Learn more about Data Types and Objects in R: <a href="https://msu.edu/~lixue/geo866/lab02/data_type.html" class="uri">https://msu.edu/~lixue/geo866/lab02/data_type.html</a>)</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Display the internal structure of an R object.</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">str</span>(mtcars)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># Check the dimension of an object</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">dim</span>(mtcars)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># Number of rows (observations)</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw">nrow</span>(mtcars)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co"># Number of columns (variables)</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw">ncol</span>(mtcars)</a></code></pre></div>
<p>If you want to learn more about the mtcars data set, you can bring up a helpful file for functions and datsets.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Bring up a help file</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">help</span>(mtcars) </a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># Aquestion mark is a shorcut for the &quot;help&quot; function.</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">?mtcars</a></code></pre></div>
</div>
<div id="form-a-contingency-table" class="section level2">
<h2>Form a Contingency Table</h2>
<p>We will learn how to conduct Chi-Square Test on the gear (Number of forward gears) and cyl (Number of cylinders) columns in the mtcars data set.</p>
<p>First, let’s form the contengency table. The <code>table</code> function returns a contingency table of the counts at each combination of factor labels.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">table</span>(mtcars<span class="op">$</span>gear, mtcars<span class="op">$</span>cyl)</a></code></pre></div>
</div>
<div id="conduct-chi-squared-test" class="section level2">
<h2>Conduct Chi-Squared Test</h2>
<p>Now, we will conduct the chi-squared test using the chisq.test() function. We also set <code>correct=FALSE</code> to turn off Yates’ continuity correction.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">chisq.test</span>(mtcars<span class="op">$</span>gear, mtcars<span class="op">$</span>cyl, <span class="dt">correct=</span><span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="get-expected-counts" class="section level2">
<h2>Get Expected Counts</h2>
<p>To get a table of expected counts, type this.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">xsq &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(mtcars<span class="op">$</span>gear, mtcars<span class="op">$</span>cyl, <span class="dt">correct=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">xsq<span class="op">$</span>expected</a></code></pre></div>
</div>
<div id="conduct-fishers-exact-test" class="section level2">
<h2>Conduct Fisher’s Exact Test</h2>
<p>Chi-square test is used to the the association between two categorical variables when the cell sizes are expected to be large. Fisher’s Exact test is used when sample size is small (or you have expected cell sizes &lt; 5).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">fisher.test</span>(mtcars<span class="op">$</span>gear, mtcars<span class="op">$</span>cyl)</a></code></pre></div>
</div>
</div>
<div id="assignment-7-week-11" class="section level1">
<h1>Assignment 7 (Week 11)</h1>
<div id="read-data" class="section level2">
<h2>Read Data</h2>
<p>We will use build-in data set <code>survey</code> in the MASS package.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Install the MASS package if you haven&#39;t (remove # from the code below)</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#install.packages(&quot;MASS&quot;)</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co"># Load the MASS Package</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="kw">library</span>(MASS)</a></code></pre></div>
<p>We will load and print the survey data.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># 1. Loading</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw">data</span>(survey) </a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co"># 2. Print</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="kw">head</span>(survey)</a></code></pre></div>
</div>
<div id="check-data-1" class="section level2">
<h2>Check Data</h2>
<p>Check the number of rows and columns.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># Display the internal structure of an R object.</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">str</span>(survey)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co"># Check the dimension of an object</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="kw">dim</span>(survey)</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co"># Number of rows (observations)</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="kw">nrow</span>(survey)</a>
<a class="sourceLine" id="cb11-9" data-line-number="9"></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co"># Number of columns (variables)</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="kw">ncol</span>(survey)</a></code></pre></div>
</div>
<div id="form-a-contingency-table-1" class="section level2">
<h2>Form a Contingency Table</h2>
<p>Now, we will conduct Chi-Square Test on the Smoke (How much the student smokes) and Exer (How often the student exercise) columns in the mtcars data set.</p>
<p>First, let’s form the contengency table.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">table</span>(survey<span class="op">$</span>Smoke, survey<span class="op">$</span>Exer) </a></code></pre></div>
</div>
<div id="conduct-chi-squared-test-1" class="section level2">
<h2>Conduct Chi-Squared Test</h2>
<p>Nest, we will conduct the chi-squared test using the chisq.test() function. We also set <code>correct=FALSE</code> to turn off Yates’ continuity correction.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">chisq.test</span>(survey<span class="op">$</span>Smoke, survey<span class="op">$</span>Exer, <span class="dt">correct=</span><span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="combine-columns" class="section level2">
<h2>Combine columns</h2>
<p>The warning message above is due to the small cell values in the contingency table. We can combine the second and third columns to avoid the warning sign.</p>
<p>First, we will save the contingency table named tbl.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># Save the contingency table as tbl</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">tbl &lt;-<span class="st"> </span><span class="kw">table</span>(survey<span class="op">$</span>Smoke, survey<span class="op">$</span>Exer) </a>
<a class="sourceLine" id="cb14-3" data-line-number="3">tbl</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co"># We can apply the chisq.test function to the contingency table tbl</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="kw">chisq.test</span>(tbl)</a></code></pre></div>
<p>Next, combine the second and third columns of tbl. Save it in a new table named ctbl.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># Combine the second and third columns</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">ctbl &lt;-<span class="st"> </span><span class="kw">cbind</span>(tbl[,<span class="st">&quot;Freq&quot;</span>], tbl[,<span class="st">&quot;None&quot;</span>] <span class="op">+</span><span class="st"> </span>tbl[,<span class="st">&quot;Some&quot;</span>]) </a>
<a class="sourceLine" id="cb15-3" data-line-number="3">ctbl</a></code></pre></div>
<p>We can apply the chisq.test function to the contingency table ctbl</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">chisq.test</span>(ctbl)</a></code></pre></div>
</div>
</div>
</div>


</div>

<div id="postamble" data-toggle="wy-nav-shift" class="status">
<p class="author"><span class="glyphicon glyphicon-user"></span> Koeun Choi</p>
<p class="date"><span class="glyphicon glyphicon-calendar"></span> November 6, 2019</p>
</div>


<script>
$(document).ready(function () {
 	  });
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
