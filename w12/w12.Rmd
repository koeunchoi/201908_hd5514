---
title: "HD 5514 Research Methods (Fall 2019)"
subtitle: "Statistical Methods"
author: "Koeun Choi"
date: "November 13, 2018"
output:
  rmdformats::readthedown:
    highlight: kate
    self_contained: false
    code_folding: hide
---

```{r knitr_init, echo=FALSE, cache=FALSE}
library(knitr)
library(rmdformats)
## Global options
options(max.print="75")
opts_chunk$set(echo=TRUE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)
```

# In-Class Acitivity: One-Sample T-Test

## Load Data
We are going to use `mtcars` data included in R by default. We will load and print the mtcars data.
```{r, eval=FALSE}
# 1. Loading
data(mtcars) 

# 2. Print
head(mtcars)
```

## Print Data
We can view the content of the mtcars data set.
```{r, eval=FALSE}
# 2. Print (the first 6 rows)
head(mtcars)

# Print the last 6 rows
tail(mtcars)

# Print the first 10 rows
head(mtcars, 10)
```

## Check Data Set
Check the number of rows and columns. 
(Learn more about Data Types and Objects in R: https://msu.edu/~lixue/geo866/lab02/data_type.html)
```{r, eval=FALSE}
# Display the internal structure of an R object.
str(mtcars)

# Check the dimension of an object
dim(mtcars)

# Number of rows (observations)
nrow(mtcars)

# Number of columns (variables)
ncol(mtcars)
```

If you want to learn more about the mtcars data set, you can bring up a helpful file for functions and datsets. 
```{r, eval=FALSE}
# Bring up a help file
help(mtcars) 

# A question mark is a shorcut for the "help" function.
?mtcars
```

## Check the data frame column (mpg)
First, find the data column, named mpg (gas mileage) of the mtcars data set.
```{r, eval=FALSE}
# Print the mpg column
mtcars$mpg

# Create a freqeuncy table for the mpg column
table(mtcars$mpg)

# Compute mean
mean(mtcars$mpg)

# Compute standard deviation
sd(mtcars$mpg)

# Statistical summaries of mpg
summary(mtcars$mpg)
```

## Visualize yoru data using a box plot
First, find the data column, named mpg (gas mileage) of the mtcars data set.
```{r, eval=FALSE}
# Create a box plot
boxplot(mtcars$mpg)

# Add axes and text
boxplot(mtcars$mpg,
data=airqual`ity,
main="Car Milage Data",
xlab="Gas mileage",
ylab="Miles/(US) gallon",
col="orange",
border="brown"
)
```

## Compute one-sample t-test (two.sided)
Use the t.test() function to perfom one-sample t-test (two.sided)
```{r, eval=FALSE}
# two-tailed test
t.test(mtcars$mpg, mu = 0, alternative = "two.sided")

# < 2.2e-16 is equal to 2.2 x 10^-16, 0.00000000000000022 with 15 zeros after the decimal point (E: scientific (or exponential) notation, 10 to the x-th power)
```

## Compute one-sample t-test (one.sided)
Using the "alternative" argument to change the alternative hypothesis. alternative argument allows one of the following options: “two.sided” (default), “greater” or “less”.
```{r}
# one-tailed test ()
t.test(mtcars$mpg, mu = 0, alternative = "less")

# one-tailed test
t.test(mtcars$mpg, mu = 0, alternative = "greater")
```

# Compute one-sample t-test (two.sided, greater) with a different mean value.
Using the "mu" argument to change the theoretical mean. Default is 18 but you can change it (mu = 20).
```{r, eval=FALSE}
# two-tailed test
t.test(mtcars$mpg, mu = 18, alternative = "two.sided")

t.test(mtcars$mpg, mu = 18, alternative = "greater")
```

# Use the help function to 
If you want to learn more about the t.test function
```{r, eval=FALSE}
# A question mark is a shorcut for the "help" function.
?t.test
```

# In-Class Acitivity: Two-Sample T-Test

## Check two data frame columns (mpg, am)
If two samples come from unrelated populations, they are independent.

First, find the data column, named mpg (gas mileage) of the mtcars data set.
```{r, eval=FALSE}
# Print the mpg column
mtcars$mpg

# Create a freqeuncy table for the mpg column
table(mtcars$mpg)

# Compute mean
mean(mtcars$mpg)

# Compute standard deviation
sd(mtcars$mpg)
```

Next, find another data column, named am (transmission type; 0 = automatic, 1 = manual) in the mtcars data set.  
```{r, eval=FALSE}
# Print the am column
mtcars$am

# Create a freqeuncy table for the am column
table(mtcars$am)
```

## Conduct the unpaired t-test between two populations means
If two samples come from unrelated populations, they are independent. Compute the difference in means of the two sample data using the t.test fuction
```{r, eval=FALSE}
# Method 1
t.test(mtcars$mpg, mtcars$am)

# Method 2 (model response variable mpg by the predictor am)
t.test(mtcars$mpg ~ mtcars$am)

# Welch Two Sample t-test is more reliable when the two samples have unequal variances and/or unequal sample size.
```


# Assignment 8 (Week 12)

## Read Data
We will use  build-in data set `survey` in the MASS package.
```{r, eval=FALSE}
# Install the MASS package if you haven't (remove # from the code below)
#install.packages("MASS")

# Load the MASS Package
library(MASS)
```

We will load and print the survey data.
```{r, eval=FALSE}
# 1. Loading
data(survey) 

# 2. Print
head(survey)
```

## Check Data
Check the number of rows and columns. 
```{r, eval=FALSE}
# Display the internal structure of an R object.
str(survey)

# Check the dimension of an object
dim(survey)

# Use the help function to learn about the survey data set.
?survey
```

## Check two data frame columns (Age, Exer)
First, find the data column, named Age of the survey data set.

```{r, eval=FALSE}
# Summary of the Age column
summary(survey$Age)
```

Next, find another data column, named Exer in the survey data set.  
```{r, eval=FALSE}
# Summary of the Exer column
summary(survey$W.Hnd)

# Create a freqeuncy table for the am column
table(survey$W.Hnd)
```

## Conduct the unpaired t-test between two populations means
If two samples come from unrelated populations, they are independent. Compute the difference in means of the two sample data using the t.test fuction
```{r, eval=FALSE}
# Method 1
survey$W.Hnd2 <- complete.cases(survey$W.Hnd) # Remove all NAs
t.test(survey$Age, survey$W.Hnd2, is.na = TRUE)

# Method 2 (model response variable mpg by the predictor am)
t.test(survey$Age ~ survey$W.Hnd2)

# Welch Two Sample t-test is more reliable when the two samples have unequal variances and/or unequal sample size.
```

